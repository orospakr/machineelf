;; Object fixtures/
;; SEMANTICDB Tags save file
(semanticdb-project-database-file "fixtures/"
  :tables (list 
   (semanticdb-table "main_page.html"
    :major-mode 'html-mode
    :tags '(("Ikariam - World Gamma" section nil nil [1035 1234]) ("var xajaxRequestUri=\"http://s3.ikariam.org/index.php\";
var xajaxDebug=false;
var xajaxStatusMessages=false;
var xajaxWaitCursor=true;
var xajaxDefinedGet=0;
var xajaxDefinedPost=1;
var xajaxLoaded=false;
function xajax_getMapData(){return xajax.call(\"getMapData\", arguments, 1);}" section nil nil [1234 1308]) ("var xajaxRequestUri=\"http://s3.ikariam.org/index.php\";
var xajaxDebug=false;
var xajaxStatusMessages=false;
var xajaxWaitCursor=true;
var xajaxDefinedGet=0;
var xajaxDefinedPost=1;
var xajaxLoaded=false;
function xajax_getMapData(){return xajax.call(\"getMapData\", arguments, 1);}" section nil nil [1308 1632]) ("window.setTimeout(function () { if (!xajaxLoaded) { alert('Error: the xajax Javascript file could not be included. Perhaps the URL is incorrect?\\nURL: /js/xajax_js/xajax.js'); } }, 6000);" section nil nil [1632 1702]) ("window.setTimeout(function () { if (!xajaxLoaded) { alert('Error: the xajax Javascript file could not be included. Perhaps the URL is incorrect?\\nURL: /js/xajax_js/xajax.js'); } }, 6000);" section nil nil [1702 1935]) ("/* <![CDATA[ */

		var Event = YAHOO.util.Event,
		Dom   = YAHOO.util.Dom,
		lang  = YAHOO.lang;

		var LocalizationStrings = new Array();
		LocalizationStrings['timeunits'] = new Array();
		LocalizationStrings['timeunits']['short'] = new Array();
		LocalizationStrings['timeunits']['short']['day'] = 'D';
		LocalizationStrings['timeunits']['short']['hour'] = 'h';
		LocalizationStrings['timeunits']['short']['minute'] = 'm';
		LocalizationStrings['timeunits']['short']['second'] = 's';

        LocalizationStrings['language']                     = 'en';
        LocalizationStrings['decimalPoint']               = '.';
        LocalizationStrings['thousandSeperator']     = ',';

		/**
		* switches one item on and the other off.. but only if they share the same groupname.
		*/
		selectGroup = {
			groups:new Array(), //[groupname]=item
			getGroup:function(group) {
				if(typeof(this.groups[group]) == \"undefined\") {
					this.groups[group] = new Object();
					this.groups[group].activeItem = \"undefined\";
					this.groups[group].onActivate = function(obj) {};
					this.groups[group].onDeactivate = function(obj) {};
					}
				return this.groups[group];
			},
			activate:function(obj, group) {
				g = this.getGroup(group);
				if(typeof(g.activeItem) != \"undefined\") {
					g.onDeactivate(g.activeItem);
					}
				g.activeItem=obj;
				g.onActivate(obj);
			}
		};
		selectGroup.getGroup('cities').onActivate = function(obj) {
			YAHOO.util.Dom.addClass(obj.parentNode, \"selected\");
		}
		selectGroup.getGroup('cities').onDeactivate = function(obj) {
			YAHOO.util.Dom.removeClass(obj.parentNode, \"selected\");
		}

		/**
		 * - will COPY all child nodes of the source-node that are marked with a CSS class to be child nodes of the target.
		 * - will purge all children of the TARGET element that are marked the same special CSS class at each call, so previously copied will be deleted before copying new
		 * - expects either an Id or an object.
		 */
		function showInContainer(source, target, exchangeClass) {
			//objects or Id-strings, i don't care
			if(typeof source == \"string\") { source = Dom.get(source); }
			if(typeof target == \"string\") {target = Dom.get(target); }
			if(typeof exchangeClass != \"string\") { alert(\"Error: IKARIAM.showInContainer -> Forgot to add an exchangeClass?\"); }
			//removal
			for(i=0; i<target.childNodes.length; i++) {
				if(typeof(target.childNodes[i].className) != \"undefined\" && target.childNodes[i].className==exchangeClass) {
					target.removeChild(target.childNodes[i]);
				}
			}
			//clone new
			for(i=0; i<source.childNodes.length; i++) {
				if(typeof(source.childNodes[i].className) != \"undefined\" && source.childNodes[i].className==exchangeClass) {
					clone = source.childNodes[i].cloneNode(true);
					target.insertBefore(clone, target.firstChild.nextSibling);
				}
			}
		}

		selectedCity = -1;
		function selectCity(cityNum, cityId, viewAble) {
		    if(selectedCity == cityNum) {
		        if(viewAble) document.location.href=\"?view=city&id=\"+cityId;
		        else document.location.href=\"#\";
		    } else {
		        selectedCity = cityNum;
		    }
			showInContainer(\"cityLocation\"+cityNum,\"information\", \"cityinfo\");
			showInContainer(\"cityLocation\"+cityNum,\"actions\", \"cityactions\");
			var container = document.getElementById(\"cities\");
			var citySelectedClass = \"selected\";
		}

		//IE6 CSS Background-Flicker fix
		(function(){
			/*Use Object Detection to detect IE6*/
			var  m = document.uniqueID /*IE*/
			&& document.compatMode  /*>=IE6*/
			&& !window.XMLHttpRequest /*<=IE6*/
			&& document.execCommand ;
			try{
				if(!!m){
					m(\"BackgroundImageCache\", false, true) /* = IE6 only */
				}
			}catch(oh){};
		})();
		/* ]]> */

		function myConfirm(message, target) {
		    bestaetigt = window.confirm (message);
		    if (bestaetigt == true)
              window.location.href = target;
		}" section nil nil [1935 5880]) ("Ikariam" section nil nil [5880 5907]) ("Ikariam" section (:members (("Ikariam" section (:members (("Live the ancient world!" section nil nil [6069 6114]))) nil [6047 6114]))) nil [5907 6114]) ("m = new Array;m[0] = new Array;m[1] = new Array;m[2] = new Array;m[3] = new Array;m[4] = new Array;m[5] = new Array;m[6] = new Array;m[7] = new Array;m[8] = new Array;m[9] = new Array;m[10] = new Array;m[11] = new Array;m[12] = new Array;m[13] = new Array;m[14] = new Array;m[15] = new Array;m[16] = new Array;m[17] = new Array;m[18] = new Array;m[19] = new Array;m[20] = new Array;m[21] = new Array;m[22] = new Array;m[23] = new Array;m[24] = new Array;m[25] = new Array;m[26] = new Array;m[27] = new Array;m[28] = new Array;m[29] = new Array;m[30] = new Array;m[31] = new Array;m[32] = new Array;m[33] = new Array;m[34] = new Array;m[35] = new Array;m[36] = new Array;m[37] = new Array;m[38] = new Array;m[39] = new Array;m[40] = new Array;m[41] = new Array;m[42] = new Array;m[43] = new Array;m[44] = new Array;m[45] = new Array;m[46] = new Array;m[47] = new Array;m[48] = new Array;m[49] = new Array;m[50] = new Array;m[51] = new Array;m[52] = new Array;m[53] = new Array;m[54] = new Array;m[55] = new Array;m[56] = new Array;m[57] = new Array;m[58] = new Array;m[59] = new Array;m[60] = new Array;m[61] = new Array;m[62] = new Array;m[63] = new Array;m[64] = new Array;m[65] = new Array;m[66] = new Array;m[67] = new Array;m[68] = new Array;m[69] = new Array;m[70] = new Array;m[71] = new Array;m[72] = new Array;m[73] = new Array;m[74] = new Array;m[75] = new Array;m[76] = new Array;m[77] = new Array;m[78] = new Array;m[79] = new Array;m[80] = new Array;m[81] = new Array;m[82] = new Array;m[83] = new Array;m[84] = new Array;m[85] = new Array;m[86] = new Array;m[87] = new Array;m[88] = new Array;m[88][59]=new Array(2524,1,3,'Tharios', '3', 15);m[88][60]=new Array(2523,4,1,'Taphoios', '4', 10);m[88][66]=new Array(2512,1,5,'Ledeios', '2', 16);m[88][67]=new Array(2509,2,8,'Etooos', '1', 16);m[88][68]=new Array(2508,1,5,'Schuirios', '8', 10);m[88][70]=new Array(2501,2,8,'Realtyios', '9', 16);m[88][71]=new Array(2500,1,7,'Moruos', '6', 11);m[89] = new Array;m[89][59]=new Array(2526,3,4,'Doegoios', '5', 11);m[89][60]=new Array(2525,2,6,'Peurdoios', '4', 16);m[89][61]=new Array(2527,4,5,'Ziaghuios', '3', 10);m[89][63]=new Array(3234,2,8,'Sauloios', '9', 12);m[89][64]=new Array(3233,3,4,'Zhilios', '2', 11);m[89][70]=new Array(2503,4,1,'Pereuos', '1', 13);m[89][71]=new Array(2502,3,8,'Lyeyos', '9', 13);m[90] = new Array;m[90][58]=new Array(2531,3,4,'Queeitia', '7', 14);m[90][59]=new Array(2530,4,1,'Pasios', '9', 10);m[90][60]=new Array(2529,1,7,'Ranuios', '2', 10);m[90][61]=new Array(2528,3,5,'Tronios', '10', 10);m[90][63]=new Array(3236,1,5,'Riliios', '7', 11);m[90][64]=new Array(3235,4,6,'Lemaios', '8', 11);m[90][65]=new Array(3237,1,7,'Nasoios', '6', 10);m[90][67]=new Array(3231,2,2,'Buroos', '8', 16);m[90][68]=new Array(3232,1,6,'Zhenios', '8', 12);m[90][70]=new Array(2505,2,6,'Hateetia', '8', 12);m[90][71]=new Array(2504,1,3,'Breyrios', '3', 14);m[91] = new Array;m[91][58]=new Array(2532,1,6,'Maidios', '8', 10);m[91][59]=new Array(2533,2,6,'Worayos', '4', 14);m[91][64]=new Array(3239,3,7,'Nikios', '8', 10);m[91][65]=new Array(3238,2,7,'Unditia', '5', 10);m[91][67]=new Array(3230,4,5,'Reileos', '4', 11);m[91][68]=new Array(3229,3,6,'Serouos', '2', 10);m[92] = new Array;m[92][61]=new Array(3249,1,5,'Nysatia', '1', 10);m[92][62]=new Array(3248,4,1,'Teamios', '10', 10);m[92][64]=new Array(3247,1,8,'Rhonios', '4', 10);m[92][65]=new Array(3246,4,8,'Slezios', '5', 8);m[92][67]=new Array(3226,2,2,'Bicios', '6', 13);m[92][68]=new Array(3225,1,7,'Llukios', '5', 11);m[92][69]=new Array(3222,2,5,'Traevaos', '1', 10);m[92][70]=new Array(3221,1,3,'Skeleos', '8', 10);m[92][72]=new Array(3218,1,7,'Piecaios', '9', 10);m[93] = new Array;m[93][58]=new Array(3256,4,7,'Leirios', '7', 0);m[93][59]=new Array(3253,1,6,'Yerutia', '3', 10);m[93][60]=new Array(3252,4,7,'Taneuos', '3', 0);m[93][61]=new Array(3251,3,6,'Emyos', '2', 0);m[93][62]=new Array(3250,2,2,'Sereeos', '10', 10);m[93][67]=new Array(3227,3,7,'Ceuzios', '4', 10);m[93][68]=new Array(3228,4,8,'Deanios', '7', 10);m[93][69]=new Array(3223,3,8,'Seudios', '4', 10);m[93][70]=new Array(3224,4,8,'Banaeos', '7', 8);m[93][72]=new Array(3219,2,6,'Beeryios', '4', 12);m[94] = new Array;m[94][58]=new Array(3258,2,8,'Skelios', '1', 10);m[94][59]=new Array(3255,3,8,'Hunuios', '7', 0);m[94][60]=new Array(3254,2,7,'Omeutia', '10', 10);m[94][64]=new Array(3911,3,4,'Lumios', '3', 1);m[94][65]=new Array(3910,2,2,'Kimytia', '9', 11);m[95] = new Array;m[95][62]=new Array(3914,2,2,'Bozios', '7', 10);m[95][63]=new Array(3913,1,5,'Cladios', '3', 10);m[95][64]=new Array(3912,4,1,'Yeraios', '10', 0);m[95][65]=new Array(3909,1,8,'Issayos', '6', 10);m[95][66]=new Array(3906,2,8,'Yereos', '9', 10);m[95][67]=new Array(3905,1,7,'Gosoos', '7', 0);m[95][69]=new Array(3901,1,7,'Isuos', '3', 0);m[95][70]=new Array(3899,3,6,'Noekiios', '3', 0);m[95][71]=new Array(3897,1,3,'Eldaios', '2', 0);m[95][72]=new Array(3895,3,8,'Slykoos', '9', 0);m[96] = new Array;m[96][58]=new Array(3922,4,1,'Kotios', '10', 0);m[96][59]=new Array(3919,1,3,'Ruisiios', '5', 1);m[96][60]=new Array(3918,4,1,'Smeildaios', '3', 0);m[96][62]=new Array(3915,3,5,'Thacios', '4', 0);m[96][63]=new Array(3916,4,5,'Shaisios', '4', 0);m[96][64]=new Array(3917,2,8,'Clotios', '6', 1);m[96][66]=new Array(3908,4,1,'Woekeios', '2', 0);m[96][67]=new Array(3907,3,5,'Beleutia', '8', 0);m[96][69]=new Array(3902,2,5,'Isios', '3', 0);m[96][70]=new Array(3900,4,1,'Whoraos', '1', 1);m[96][71]=new Array(3898,2,2,'Ceroeos', '6', 0);m[96][72]=new Array(3896,4,1,'Nyios', '7', 0);m[97] = new Array;m[97][58]=new Array(3924,2,5,'Onutia', '9', 0);m[97][59]=new Array(3921,3,7,'Aditia', '1', 0);m[97][60]=new Array(3920,2,8,'Ardiatia', '4', 0);m[97][71]=new Array(3904,1,3,'Lifiios', '6', 0);m[97][72]=new Array(3903,3,7,'Coekios', '5', 0);m[98] = new Array;m[98][62]=new Array(4555,1,6,'Quoghyios', '5', 0);m[98][63]=new Array(4553,2,5,'Tyxios', '1', 0);m[98][64]=new Array(4551,1,3,'Sweifios', '5', 0);m[98][65]=new Array(4549,2,2,'Lyeeos', '10', 1);m[98][66]=new Array(4547,1,8,'Taieuos', '1', 0);m[98][68]=new Array(4540,2,6,'Foukios', '8', 0);m[98][69]=new Array(4539,3,7,'Schokios', '1', 0);m[99] = new Array;m[99][58]=new Array(4567,2,6,'Jeduios', '2', 0);m[99][59]=new Array(4569,4,8,'Slierios', '9', 0);m[99][60]=new Array(4571,2,2,'Iryos', '9', 0);m[99][62]=new Array(4556,4,8,'Theriatia', '8', 0);m[99][63]=new Array(4554,3,7,'Verytia', '6', 0);m[99][64]=new Array(4552,4,1,'Slaydoos', '4', 0);m[99][65]=new Array(4550,3,4,'Samoetia', '2', 1);m[99][66]=new Array(4548,4,1,'Iroeos', '6', 0);m[99][68]=new Array(4542,4,7,'Shymios', '5', 0);m[99][69]=new Array(4541,1,5,'Rhethoos', '8', 0);m[99][70]=new Array(4545,2,7,'Ghaotia', '10', 1);m[99][72]=new Array(4536,1,8,'Sletios', '2', 10);m[100] = new Array;m[100][58]=new Array(4568,3,6,'Maebios', '2', 0);m[100][59]=new Array(4570,1,3,'Cryhios', '9', 0);m[100][60]=new Array(4572,3,4,'Tanotia', '7', 1);m[100][65]=new Array(4558,2,6,'Saemaios', '7', 0);m[100][66]=new Array(4557,1,3,'Sigoios', '2', 1);m[100][68]=new Array(4544,2,2,'Eneaos', '2', 10);m[100][69]=new Array(4543,3,4,'Bikios', '4', 0);m[100][70]=new Array(4546,4,7,'Dodios', '3', 1);m[100][72]=new Array(4537,4,8,'Garetia', '9', 10);m[101] = new Array;m[102] = new Array;m[103] = new Array;m[104] = new Array;m[105] = new Array;m[106] = new Array;m[107] = new Array;m[108] = new Array;m[109] = new Array;m[110] = new Array;m[111] = new Array;m[112] = new Array;m[113] = new Array;m[114] = new Array;m[115] = new Array;m[116] = new Array;m[117] = new Array;m[118] = new Array;m[119] = new Array;m[120] = new Array;m[121] = new Array;m[122] = new Array;m[123] = new Array;m[124] = new Array;m[125] = new Array;m[126] = new Array;m[127] = new Array;m[128] = new Array;m[129] = new Array;m[130] = new Array;m[131] = new Array;m[132] = new Array;m[133] = new Array;m[134] = new Array;m[135] = new Array;m[136] = new Array;m[137] = new Array;m[138] = new Array;m[139] = new Array;m[140] = new Array;m[141] = new Array;m[142] = new Array;m[143] = new Array;m[144] = new Array;m[145] = new Array;m[146] = new Array;m[147] = new Array;m[148] = new Array;m[149] = new Array;m[150] = new Array;m[151] = new Array;m[152] = new Array;m[153] = new Array;m[154] = new Array;m[155] = new Array;m[156] = new Array;m[157] = new Array;m[158] = new Array;m[159] = new Array;m[160] = new Array;m[161] = new Array;m[162] = new Array;m[163] = new Array;m[164] = new Array;m[165] = new Array;m[166] = new Array;m[167] = new Array;m[168] = new Array;m[169] = new Array;m[170] = new Array;m[171] = new Array;m[172] = new Array;m[173] = new Array;m[174] = new Array;m[175] = new Array;m[176] = new Array;m[177] = new Array;m[178] = new Array;m[179] = new Array;m[180] = new Array;m[181] = new Array;m[182] = new Array;m[183] = new Array;m[184] = new Array;m[185] = new Array;m[186] = new Array;m[187] = new Array;m[188] = new Array;m[189] = new Array;m[190] = new Array;m[191] = new Array;m[192] = new Array;m[193] = new Array;m[194] = new Array;m[195] = new Array;m[196] = new Array;m[197] = new Array;m[198] = new Array;m[199] = new Array;m[200] = new Array;m[201] = new Array;m[202] = new Array;m[203] = new Array;m[204] = new Array;m[205] = new Array;m[206] = new Array;m[207] = new Array;m[208] = new Array;m[209] = new Array;MAXSIZE = 8;
halfMaxSize = Math.floor(MAXSIZE/2);

start_x=95;
start_y=65;

center_x=95;
center_y=65;

center_x_begin=95;
center_y_begin=65;

wonder_status=1;
tradegood_status=1;
city_status=1;

IE = (navigator.appName!='Microsoft Internet Explorer')?0:1;

tradegoodText = new Array();
tradegoodText[1] = 'Wine';
tradegoodText[2] = 'Marble';
tradegoodText[3] = 'Crystal Glass';
tradegoodText[4] = 'Sulphur';

wonderText = new Array();
wonderText[1] = 'Hephaistos&#xB4; Forge';
wonderText[2] = 'Temple of Gaia';
wonderText[3] = 'Garden of Dionysus';
wonderText[4] = 'Temple of Athene';
wonderText[5] = 'Temple of Hermes';
wonderText[6] = 'Ares&#xB4; Stronghold';
wonderText[7] = 'Temple of Poseidon';
wonderText[8] = 'Colossus';

markCoordX = -1;
markCoordY = -1;

ownIslandJS = new Array();
ownIslandJS[0] = new Array();
ownIslandJS[0][0] = 95;
ownIslandJS[0][1] = 65;
ownIslandJS[1] = new Array();
ownIslandJS[1][0] = 94;
ownIslandJS[1][1] = 65;

var scrollMapId = null;
var mapScrollProgress = 0;

function startMapScroll(x, y) {
	stopMapScroll();



	mapScrollProgress = 0;
	scrollMapId = window.setInterval('mapScroll(' + x + ', ' + y + ')', 70);	
}

function stopMapScroll() {
	if(scrollMapId) {
		window.clearInterval(scrollMapId);
		scrollMapId = null;
	}
}

function mapScroll(x, y)
{
	mapScrollProgress += 0.2;
	if(mapScrollProgress >= 1) {
		mapScrollProgress = 1;
		
		stopMapScroll();
	}
	
	var p = Math.sin(mapScrollProgress*1.57079632);
	//var ap = p-1;
	
	var x_mod = 0;
	var y_mod = 0;
	
	//northwest
	if(x == -1 && y == 0) {
		x_mod = 120;
		y_mod = 60;		
	}
	//north
	else if(x == -1 && y == -1) {
		x_mod = 0;
		y_mod = 120;
	}
	//northeast
	else if(x == 0 && y == -1) {
		x_mod = -120;
		y_mod =60;
	}
	//west
	else if(x == -1 && y == 1) {
		x_mod = 240;
		y_mod = 0;
	}
	//east
	else if(x == 1 && y == -1) {
		x_mod = -240;
		y_mod = 0;
	}
	//southwest
	else if(x == 0 && y == 1) {
		x_mod = 120;
		y_mod = -60;
	}
	//south
	else if(x == 1 && y == 1) {
		x_mod = 0;
		y_mod = -120;
	}
	
	//southeast	
	else if(x == 1 && y == 0) {
		x_mod = -120;
		y_mod = -60;
	}
	
	x_mod *= p;
	y_mod *= p; 
	document.getElementById('worldmap').style.left = x_mod+'px';
	document.getElementById('worldmap').style.top = y_mod+'px';
	if(mapScrollProgress == 1) {
		if (center_x+3 < start_x ||
		    center_x-3 > start_x ||
		    center_y+3 < start_y ||
		    center_y-3 > start_y){
		    	
		    	//Get new Mapdata by ajax request and repaint the map
		    	xajax_getMapData(center_x,center_y);
		  		start_x=center_x;
		    	start_y=center_y;
		} else {
			//repaint the map
		    center_map();
		}
	}
}





function getOceanClass(x, y) {
    var klasse = 'ocean1';
    
    if( (Math.abs((x+y*3)%4))==0) klasse = 'ocean2';
    
    if( (Math.abs((x+y*4)%5))==0) klasse = 'ocean3';
    
    if( (Math.abs((x+y*5)%12))==0) klasse = 'ocean_feature1';
    
    if( (Math.abs((x+y*6)%13))==0) klasse = 'ocean_feature2';
    
    if( (Math.abs((x+y*7)%12))==0) klasse = 'ocean_feature3';
    
    if( (Math.abs((x+y*8)%13))==0) klasse = 'ocean_feature4';
    
    //alert(klasse);
    return klasse;
}

function jumpToCoord() {
    center_x= parseInt(document.navInputForm.xcoord.value);
    center_y= parseInt(document.navInputForm.ycoord.value);
    move(0,0);
}

function jumpToCoordWithParams(x, y) {
    center_x=x;
    center_y=y;
    move(0,0);
}

function mark(x,y) {
    
    tile = document.getElementById('tile_'+x+'_'+y);
    var shortName = tile.className.substring(0, 5);
    if(shortName != 'ocean') {
       
        //alert(tile.islandName + ' , ' + center_x+ '|' + center_y + ' , ' + x + '|' + y);
        //alert(m[tile.coordX][tile.coordY][3]);
        // document.getElementById('islandActions').className = 'nohidden';
        document.getElementById('islandInfos').className = 'nohidden';
        document.getElementById('islandName').innerHTML = ''+tile.islandName;
        document.getElementById('tradegoodLabel').innerHTML = '<a href=\"/index.php?view=informations&articleId=10013&mainId=10013\">'+tradegoodText[tile.tradegoodId]+ '" section (:members (("'+tradegoodText[tile.tradegoodId]+ '" section nil nil [19353 19524]) ("'+wonderText[tile.wonderId]+'" section nil nil [19524 19685]) ("' + tile.islandName + ' [' + tile.coordX +':' + tile.coordY + ']" section nil nil [19685 26038]))) nil [6114 26038]) ("-->
<div id=\"breadcrumbs\">
    <h3>You are here:" section (:members (("You are here:" section nil nil [26139 26374]) ("Navigation" section (:members (("Info" section nil nil [27009 27091]) ("Info" section nil nil [27091 27215]) ("Info" section nil nil [27215 27292]) ("Info" section nil nil [27292 27371]) ("Info" section nil nil [27371 27448]) ("Info" section nil nil [27448 27525]) ("Info" section nil nil [27525 27604]) ("Info" section nil nil [27604 27680]) ("Info" section nil nil [27680 27757]) ("Info" section nil nil [27757 27928]))) nil [26374 27928]) ("Info" section nil nil [27928 66772]) ("Town navigation" section (:members (("Previous Town" section nil nil [67188 67342]) ("Next Town" section nil nil [67342 67497]) ("Show World" section nil nil [67497 67667]) ("Show Island" section nil nil [67667 67846]) ("Show Town" section nil nil [67846 68068]))) nil [66772 68068]) ("Resources of your Empire" section (:members (("Trade ships:" section nil nil [68175 68400]) ("Gold:" section nil nil [68400 68719]))) nil [68068 68719]) ("Town&#xB4;s resources" section nil nil [68719 70444]))) nil [26038 70444]) ("
var localTime = new Date();
var startServerTime = localTime.getTime() - (7200000) - localTime.getTimezoneOffset()*60*1000; // GMT+1+Sommerzeit - offset 
var startTime = localTime.getTime();


var startResources = 422.042499985;
var startResourcesDelta = 0.0183333333333;
var resourcesStorage = 6336;

var startTradegood = 1497.9280556;
var startTradegoodDelta = 0.00666666666667;
var tradegoodStorage = 2352;
var tradegoodSub = 3;
var tradegoodSubTime = 210;

function updateResources() {
	//global:  startTime, Dom, resourcesStorage
	var currTime = new Date();
	deltaTime = (currTime.getTime() - startTime)/1000;
	var currResources = startResources + (deltaTime * startResourcesDelta);
    Dom.get('value_wood').innerHTML = number_format(Math.floor(Math.min(currResources, resourcesStorage)));
	var ratio = currResources / resourcesStorage;
	if (ratio >= 1) {
		Dom.get('value_wood').className = \"storage_full\";
	} else if (ratio >= 0.75) {
		Dom.get('value_wood').className = \"storage_danger\";
	}

	var currTradegood = startTradegood + (deltaTime * startTradegoodDelta);
	if (tradegoodSub) {
		currTradegood -= Math.floor(tradegoodSub * Math.floor((tradegoodSubTime+deltaTime)/1200) );
	}

	Dom.get('value_wine').innerHTML = number_format(Math.floor(Math.min(currTradegood, tradegoodStorage)));
	var ratio = currTradegood / tradegoodStorage;
	if (ratio >= 1) {
		Dom.get('value_wine').className = \"storage_full\";
	} else if (ratio >= 0.75) {
		Dom.get('value_wine').className = \"storage_danger\";
	}
}
var ev_updateResources = setInterval(\"updateResources()\", 2000);

function shortenValue(val, to) {
        val = Math.floor(val).toString();
        var unit = '';
        if (val.length > to) {
            if (val.length - 3 < to) {
                val = Math.floor(val / Math.pow(10, 3));
                unit = 'k';
            } else if (val.length - 6 < to) {
                val = Math.floor(val / Math.pow(10, 6));
                unit = 'm';
            }
        }
        return number_format(Math.floor(val), 0, ',', '.') + unit;
}

var obj_ServerTime = 0;
Event.onDOMReady(function() {
    var ev_updateServerTime = setInterval(\"updateServerTime()\", 500);
    obj_ServerTime = document.getElementById('servertime');
});
function updateServerTime() {
    var currTime = new Date();
    currTime.setTime((1207010610000-startServerTime)+ currTime.getTime()) ;
    str = getFormatedDate(currTime.getTime(), 'd.m.Y G:i:s');
    obj_ServerTime.innerHTML = str;
}" section (:members (("Overviews" section (:members (("Towns" section nil nil [73113 73316]) ("
                    <span class=\"textLabel\">Military" section nil nil [73316 73555]) ("Research" section nil nil [73555 73728]) ("Diplomacy" section nil nil [73728 74067]) ("." section nil nil [74067 75261]))) nil [73062 75261]) ("Other Options" section (:members (("Help" section nil nil [75311 75478]) ("Ikariam PLUS" section nil nil [75478 75619]) ("Highscore" section nil nil [75619 75755]) ("Options" section nil nil [75755 75881]) ("Board" section nil nil [75881 76022]) ("Logout" section nil nil [76022 76179]) ("v.0.2.0" section nil nil [76179 76693]))) nil [75261 76693]))) nil [70444 76693]) ("
function makeButton(ele) {
    var Event = YAHOO.util.Event;
    var Dom = YAHOO.util.Dom;
    Event.addListener(ele, \"mousedown\", function() {
        YAHOO.util.Dom.addClass(ele, \"down\");
    });
    Event.addListener(ele, \"mouseup\", function() {
        YAHOO.util.Dom.removeClass(ele, \"down\");
    });
    Event.addListener(ele, \"mouseout\", function() {
        YAHOO.util.Dom.removeClass(ele, \"down\");
    });
}

function showToolTips() {
    var tooltips = Dom.getElementsByClassName ( \"tooltip\" , \"div\" , document , function() {
        Dom.setStyle(this, \"display\", \"none\");
    })
    for(i=0;i<tooltips.length;i++) {
        Event.addListener ( tooltips[i].parentNode , \"mouseover\" , function() {
            Dom.getElementsByClassName ( \"tooltip\" , \"div\" , this , function() {
                Dom.setStyle(this, \"display\", \"block\");
            });
        });
        Event.addListener ( tooltips[i].parentNode , \"mouseout\" , function() {
            Dom.getElementsByClassName ( \"tooltip\" , \"div\" , this , function() {
                Dom.setStyle(this, \"display\", \"none\");
            });
        });
    }
    var childTooltips = Dom.getElementsByClassName ( \"childTooltip\" , \"div\" , document , function() {
       // Dom.setStyle(this, \"display\", \"none\");
    })
    for(i=0;i<childTooltips.length;i++) {
        Event.addListener ( childTooltips[i].parentNode , \"mouseover\" , function() {
            Dom.getElementsByClassName ( \"childTooltip\" , \"div\" , this , function() {
                Dom.setStyle(this, \"display\", \"block\");
            });
        });
        Event.addListener ( childTooltips[i].parentNode , \"mouseout\" , function() {
            Dom.getElementsByClassName ( \"childTooltip\" , \"div\" , this , function() {
                Dom.setStyle(this, \"display\", \"none\");
            });
        });
    }
}

Event.onDOMReady( function() {
    var links = document.getElementsByTagName(\"a\");
    for(i=0; i<links.length; i++) {
        makeButton(links[i]);
    }
    showToolTips();
    replaceSelect(Dom.get(\"citySelect\"));
});" section nil nil [76693 76701]))
    :file "main_page.html"
    :pointmax 78869
    )
   )
  :file "semantic.cache"
  :semantic-tag-version "2.0pre4"
  :semanticdb-version "2.0pre4"
  )
